@model Scooterki.Models.Scooters_table

@{
    ViewBag.Title = "EditScooter";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Edit selected Scooter</h2>
@*if (!Model.UserId.Equals(null))
    {
        <h2><font color="red">This scooter is beeing reserved!!!</font></h2>
    }*@
<h3>@Html.ValidationMessageFor(model => model.UserId, "", new { @class = "text-danger" })</h3>


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    <hr />
    <div class="form-horizontal">

        <table width="100%">
            <tr>
                <td width="50%">
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                    <div class="form-group">
                        @Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.Power, htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            @Html.EditorFor(model => model.Power, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.Power, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.Label("Speed", htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            @Html.EditorFor(model => model.Vmax, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.Vmax, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.Price, htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            @Html.EditorFor(model => model.Price, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.Price, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.Description, htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            @Html.TextAreaFor(model => model.Description, 10, 40, new { htmlAttributes = new { @class = "form-control" } })<br />
                            @Html.ValidationMessageFor(model => model.Description, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.IsAvilable, htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            @{
                                List<SelectListItem> listItems = new List<SelectListItem>();
                                listItems.Add(new SelectListItem
                                {
                                    Text = "Yes",
                                    Value = "1"
                                });
                                listItems.Add(new SelectListItem
                                {
                                    Text = "No",
                                    Value = "0"
                                });
                            }
                            @Html.DropDownListFor(model => model.IsAvilable, listItems, "Select Status", new { @class = "custom-select" })<br />

                            @Html.ValidationMessageFor(model => model.IsAvilable, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.Label("PictureSource", htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            @Html.EditorFor(model => model.PictureSrc, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.PictureSrc, "", new { @class = "text-danger" })
                        </div>
                    </div>
                    @if (Html.DisplayFor(model => model.UserId) == null)
                    {
                     <div class="form-group">
                            <div class="col-md-10">
                                @Html.HiddenFor(model => model.UserId, new { htmlAttributes = new { @class = "form-control" } })
                            </div>
                     </div>
                    }
                    else
                    {
                    <div class="form-group">
                         @Html.LabelFor(model => model.UserId, htmlAttributes: new { @class = "control-label col-md-2" })
                         <div class="col-md-10">
                             @Html.EditorFor(model => model.UserId, 10, 40, new { htmlAttributes = new { @class = "form-control" } })<br />
                             @Html.ValidationMessageFor(model => model.UserId, "", new { @class = "text-danger" })
                         </div>
                    </div>
                    }


                </td>
                <td width="100%" valign="top">                                     
                    @{ string isAnything = Html.DisplayFor(Model => Model.PictureSrc).ToString();}

                    @if (isAnything != "")
                    {
                        <dt>
                            Current picture
                        </dt>
                        <dd>
                        <img src=@Html.DisplayFor(model => model.PictureSrc) height=790 width=auto>
                        </dd>
                    }
                    else
                    {
                    <dd>
                        <img src="~/RAW/error.png" alt="Error" height=790 width=auto>
                    </dd>
                    }
                </td>
            </tr>
        </table>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Change" class="btn btn-default" />
            </div>
        </div>
    </div>
}

<div>
    @Html.ActionLink("Take me back", "Index")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
